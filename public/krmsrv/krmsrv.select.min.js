$.fn.bindFirst=function(t,e,a,o){this.on(t,e,a,o),this.each(function(){var e=$._data(this,"events")[t.split(".")[0]],a=e.pop();e.splice(0,0,a)})},$.fn.closestChild=function(t){for(var e=$(),a=this;a.length&&!(e=a.filter(t)).length;)a=a.children();return e.first()},function(t){var e={init:function(e){return this.each(function(){var a=t(this);if(!a.data("_widget")){a.data("_widget",{type:"alertbox",target:a});var o=this.obj={};o.defaults={disabled:!1,hidden:!1},o.data=a.data(),o.options=t.extend(!0,{},o.defaults,o.data,e),a.data(o.options),o.data._handlers=null,o.data._el={button:a.find("button")},o.destroy=function(){void 0!==o.data._el.button[0]&&o.data._el.button.button("destroy"),a.removeData(),a.remove()},o.disable=function(){if(o.data.disabled=!0,t._data(a[0],"events")){o.data._handlers={};for(var e in t._data(a[0],"events"))o.data._handlers[e]=t._data(a[0],"events")[e].slice(0);a.off()}void 0!==o.data._el.button[0]&&o.data._el.button.button("disable")},o.enable=function(){if(o.data._handlers)for(var t in o.data._handlers)o.data._handlers[t].forEach(function(t){a.on(t.type+"."+t.namespace,t.handler)});void 0!==o.data._el.button[0]&&o.data._el.button.button("enable"),o.data._handlers=null,o.data.disabled=!1},o.hide=function(){a.addClass("alertbox_hidden"),o.data.hidden=!0},o.show=function(){a.removeClass("alertbox_hidden"),o.data.hidden=!1},o.bind=function(){void 0!==o.data._el.button[0]&&o.data._el.button.on("click",function(t){t.preventDefault(),o.destroy()})},o.init_components=function(){void 0!==o.data._el.button[0]&&o.data._el.button.button()},o.init=function(){o.init_components(),o.bind(),o.data.disabled?o.disable():o.enable(),o.data.hidden?o.hide():o.show()},o.init()}return this})},destroy:function(){return this.each(function(){this.obj.destroy()})},disable:function(){return this.each(function(){this.obj.disable()})},enable:function(){return this.each(function(){this.obj.enable()})},hide:function(){return this.each(function(){this.obj.hide()})},show:function(){return this.each(function(){this.obj.show()})}};t.fn.alertbox=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on $.alertbox"):e.init.apply(this,arguments)}}(jQuery),$(function(){$('[data-fc="alertbox"]').alertbox()}),function(t){var e={init:function(e){return this.each(function(){var a=t(this);if(!a.data("_widget")){a.data("_widget",{type:"select",target:a});var o=this.obj={};o.defaults={name:a.attr("name"),disabled:!1,hidden:!1,width:"100%",height:"auto",mode:"radio",placeholder:"Выберите значение",popup_animation:!0,popup_width:"100%",text:"",count_selected:"Выбрано # из %",placeholder_selected:!1,minimum_count_selected:2,autoclose:!1},o.data=a.data(),o.options=t.extend(!0,{},o.defaults,o.data,e),a.data(o.options),o.data._value=[],o.data._handlers=null,o.data._options=[],o.data._el={select:t('<div class="select__container"></div>'),button:t(['<div class="button" data-fc="button">','<span class="button__text">'+o.data.placeholder+"</span>",'<span class="icon icon_svg_down"></span>',"</div>"].join("")),spinner:t(['<span class="icon">','<span class="spinner"></span>',"</span>"].join("")),input:t(['<span class="input input__has-clear">','<span class="input__box">','<span class="alertbox">','<span class="icon icon_svg_search"></span>',"</span>",'<input type="text" class="input__control">','<button class="button" type="button">','<span class="icon icon_svg_close"></span>',"</button>","</span>","</span>"].join("")),popup:t('<div class="popup" data-fc="popup"></div>'),popup__input:t('<div class="popup__input"></div>'),popup__scroll:t('<div class="popup__scroll"></div>'),popup__list:t('<ul class="popup__list"></ul>'),popup__list_items:[],popup__list_item_checkall:t(['<li class="popup__list-item">','<div class="popup__link">','<span class="popup__text popup__text_light">Выбрать все</span>',"</div>","</li>"].join(""))},o.destroy=function(){"select"==o.data._widget.type&&(o.data._el.button.button("destroy"),o.data._el.input.input("destroy"),o.data._el.popup.popup("destroy"),o.data._el.select.remove(),a.removeData(),a.remove())},o.disable=function(){o.data._el.button.button("disable"),o.data._el.input.input("disable"),o.data._el.popup.popup("hide"),o.data.disabled=!0},o.enable=function(){o.data._el.button.button("enable"),o.data._el.input.input("enable"),o.data.disabled=!1},o.hide=function(){o.data._el.button.button("hide"),o.data._el.input.input("hide"),o.data._el.popup.popup("hide"),o.data.hidden=!0},o.show=function(){o.data._el.button.button("show"),o.data._el.input.input("show"),o.data.hidden=!1},o.render=function(){"check"==o.data.mode&&o.data._el.popup__list_item_checkall.data({text:"Выбрать все",selected:!1,disabled:!1,hidden:!1}),a.find("option").each(function(){var e=t(this),a={};a.defaults={text:e.text(),value:e.attr("value"),selected:e[0].hasAttribute("selected"),disabled:!1,hidden:!1,icon:""},a.data=t.extend(!0,{},a.defaults,e.data()),a.popup__list_item=t(['<li class="popup__list-item',a.data.selected?" popup__list-item_checked":"",(a.data.disabled?" popup__list-item_disabled":"")+'">','<div class="popup__link">',""==a.data.icon?"":'<span class="icon '+a.data.icon+'"></span>','<span class="popup__text">'+a.data.text+"</span>","</div>","</li>"].join("")),o.data._options.push(e),o.data._el.popup__list_items.push(a.popup__list_item),a.data.selected&&(("radio"==o.data.mode||"radio-check"==o.data.mode)&&0==o.data._value.length||"check"==o.data.mode?o.check_item(a.popup__list_item,a.data):(a.data.selected=!1,o.uncheck_item(a.popup__list_item,a.data))),e.data(a.data),a.popup__list_item.data(a.data)}),o.data._el.select.append(o.data._el.button,o.data._el.popup.append(o.data._el.popup__input.append(o.data._el.input),o.data._el.popup__scroll.append(o.data._el.popup__list.append("check"==o.data.mode?o.data._el.popup__list_item_checkall:null,o.data._el.popup__list_items)))),o.data._el.select.data(o.data),o.data._el.select.data({_widget:"_select"}),a.css("display","none"),a.after(o.data._el.select)},o.update=function(e){o.data._el.button.find(".button__text").after(o.data._el.spinner),a.html(""),o.data._options=[],o.data._el.popup__list.html(""),o.data._el.popup__list_items=[],o.data._el.button.button("destroy"),o.data._el.input.input("destroy"),o.data._el.popup.popup("destroy"),e.forEach(function(e,o,i){var n=t('<option value="'+e.value+'">'+e.text+"</option>");a.append(n)}),o.clear(),o.init(),o.data._el.spinner.remove()},o.focus=function(){o.data._el.popup.popup("show")},o.clear=function(){o.data._value=[],o.uncheck_all(),a.trigger("change")},o.focusin=function(){o.data._el.popup.popup("show")},o.focusout=function(){o.data._el.popup.popup("hide")},o.set_width=function(t){o.data._el.select.css("width",t)},o.set_value=function(t){o.data._value.indexOf(t)<0&&o.data._value.push(t)},o.del_value=function(t){o.data._value=o.data._value.filter(function(e){return e.value!=t.value&&e.text!=t.text})},o.set_button_text=function(){0==o.data._value.length?(o.data._el.button.find(".button__text").addClass("button__text_placeholder"),o.data._el.button.find(".button__text").text(o.data.placeholder)):o.data._value.length>o.data.minimum_count_selected?(o.data._el.button.find(".button__text").removeClass("button__text_placeholder"),o.data._el.button.find(".button__text").html((o.data.placeholder_selected?'<span class="button__text_placeholder">'+o.data.placeholder+"&nbsp;&nbsp;</span>":"")+o.data.count_selected.replace("#",o.data._value.length).replace("%",o.data._options.length))):(o.data._el.button.find(".button__text").removeClass("button__text_placeholder"),o.data._el.button.find(".button__text").html((o.data.placeholder_selected?'<span class="button__text_placeholder">'+o.data.placeholder+"&nbsp;&nbsp;</span>":"")+o.data._value.map(function(t){return t.text}).join(", ")))},o.get_value=function(){return 0==o.data._value.length?null:"radio"==o.data.mode||"radio-check"==o.data.mode?o.data._value[0].value:"check"==o.data.mode?o.data._value.map(function(t){return t.value}):void 0},o.check_item=function(t,e){if(e.selected=!0,t.addClass("popup__list-item_checked"),o.set_value({value:e.value,text:e.text}),o.data._options.forEach(function(t){t.data().value==e.value&&(t.attr("selected","selected"),t.data().selected=e.selected)}),o.set_button_text(),"check"==o.data.mode){var a=!0;o.data._options.forEach(function(t){t.data().selected||(a=!1)}),a?o.check_checkall():o.uncheck_checkall()}},o.uncheck_item=function(t,e){e.selected=!1,t.removeClass("popup__list-item_checked"),o.del_value({value:e.value,text:e.text}),o.data._options.forEach(function(t){t.data().value==e.value&&(t.removeAttr("selected"),t.data().selected=e.selected)}),o.set_button_text(),"check"==o.data.mode&&o.uncheck_checkall()},o.check_all=function(){o.data._value=[],o.data._el.popup__list_items.forEach(function(t){t.addClass("popup__list-item_checked"),t.data().selected=!0,o.set_value({value:t.data().value,text:t.data().text})}),o.data._options.forEach(function(t){t.attr("selected","selected"),t.data().selected=!0}),o.set_button_text(),"check"==o.data.mode&&o.check_checkall()},o.uncheck_all=function(){o.data._el.popup__list_items.forEach(function(t){t.removeClass("popup__list-item_checked"),t.data().selected=!1,o.del_value({value:t.data().value,text:t.data().text})}),o.data._options.forEach(function(t){t.removeAttr("selected"),t.data().selected=!1}),o.set_button_text(),"check"==o.data.mode&&o.uncheck_checkall()},o.check=function(t){var e=!1;o.data._el.popup__list_items.forEach(function(a){a.data().selected||a.data().value!=t&&"all"!=t||(e=!0,"radio"==o.data.mode&&o.uncheck_all(),"radio-check"==o.data.mode&&o.uncheck_all(),o.check_item(a,a.data()))}),e&&a.trigger("change")},o.uncheck=function(t){var e=!1;o.data._el.popup__list_items.forEach(function(a){a.data().value!=t&&"all"!=t||"radio"!=o.data.mode&&(e=!0,o.uncheck_item(a,a.data()))}),e&&a.trigger("change")},o.check_checkall=function(){var t=o.data._el.popup__list_item_checkall;o.data._el.popup__list_item_checkall.data().selected=!0,t.addClass("popup__list-item_checked")},o.uncheck_checkall=function(){var t=o.data._el.popup__list_item_checkall;o.data._el.popup__list_item_checkall.data().selected=!1,t.removeClass("popup__list-item_checked")},o.bind=function(){o.data._el.popup__list_items.forEach(function(t){var e=t.data();e.disabled||t.on("click",function(){if("radio"==o.data.mode&&(o.uncheck_all(),e.selected=!0,o.check_item(t,e)),"radio-check"==o.data.mode){var i=e.selected;o.uncheck_all(),e.selected=!i,e.selected?o.check_item(t,e):o.uncheck_item(t,e)}"check"==o.data.mode&&(e.selected=!e.selected,e.selected?o.check_item(t,e):o.uncheck_item(t,e)),o.data.autoclose&&o.focusout(),a.trigger("change")})})},o.bind_input=function(){o.data._el.input.find(".input__control").on("keyup",function(){var t=o.data._el.input.input("value");o.data._el.popup__list_items.forEach(function(e){e.data().text.toLowerCase().includes(t.toLowerCase())?e.removeClass("popup__list-item_hidden"):e.addClass("popup__list-item_hidden")})})},o.bind_checkall=function(){var t=o.data._el.popup__list_item_checkall.data();t.disabled||o.data._el.popup__list_item_checkall.on("click",function(){t.selected=!t.selected,t.selected?o.check_all():o.uncheck_all(),a.trigger("change")})},o.init_components=function(){o.data._el.button.button({disabled:o.data.disabled,hidden:o.data.hidden,width:o.data.width}),o.data._el.input.input({width:"100%"}),o.data._el.popup.popup({source:o.data._el.button,height:o.data.height,animation:o.data.popup_animation,select:!0})},o.init=function(){o.render(),o.init_components(),o.bind(),o.bind_input(),"check"==o.data.mode&&o.bind_checkall(),o.data.disabled?o.disable():o.enable(),o.data.hidden?o.hide():o.show(),o.set_width(o.data.width),o.set_button_text()},o.init()}return this})},destroy:function(){return this.each(function(){this.obj.destroy()})},disable:function(){return this.each(function(){this.obj.disable()})},enable:function(){return this.each(function(){this.obj.enable()})},hide:function(){return this.each(function(){this.obj.hide()})},show:function(){return this.each(function(){this.obj.show()})},update:function(t){return this.each(function(){this.obj.update(t)})},focus:function(){return this.each(function(){this.obj.focus()})},check:function(t){return this.each(function(){this.obj.check(t)})},uncheck:function(t){return this.each(function(){this.obj.uncheck(t)})},check_all:function(){return this.each(function(){this.obj.check_all()})},uncheck_all:function(){return this.each(function(){this.obj.uncheck_all()})},clear:function(){return this.each(function(){this.obj.clear()})},value:function(){if(1==this.length){var t=!1;return this.each(function(){t=this.obj.get_value()}),t}var e=[];return this.each(function(){e.push(this.obj.get_value())}),e}};t.fn.select=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on $.select"):e.init.apply(this,arguments)}}(jQuery),$(function(){$('[data-fc="select"]').select()}),function(t){var e={init:function(e){return this.each(function(){var a=t(this);if(!a.data("_widget")){a.data("_widget",{type:"button",target:a});var o=this.obj={};o.defaults={disabled:!1,checked:!1,hidden:!1,width:"auto",popup_animation:!0},o.data=a.data(),o.options=t.extend(!0,{},o.defaults,o.data,e),a.data(o.options),o.data._handlers=null,o.data._el={popup:t('<div class="popup"></div>')},o.destroy=function(){o.data._el.popup.data("_widget")&&o.data._el.popup.popup("destroy"),a.removeData(),a.remove()},o.disable=function(){if(a.removeClass("button_hovered"),a.removeClass("button_clicked_out"),a.addClass("button_disabled"),t._data(a[0],"events")){o.data._handlers={};for(var e in t._data(a[0],"events"))o.data._handlers[e]=t._data(a[0],"events")[e].slice(0);a.off()}o.data.disabled=!0},o.enable=function(){if(a.removeClass("button_clicked_out"),a.removeClass("button_disabled"),o.data._handlers)for(var t in o.data._handlers)o.data._handlers[t].forEach(function(t){a.on(t.type+"."+t.namespace,t.handler)});o.data._handlers=null,o.data.disabled=!1},o.hide=function(){a.removeClass("button_clicked_out"),a.addClass("button_hidden"),o.data.hidden=!0},o.show=function(){a.removeClass("button_clicked_out"),a.removeClass("button_hidden"),o.data.hidden=!1},o.check=function(){a.addClass("button_checked"),a.attr("data-checked","true"),o.data.checked=!0},o.uncheck=function(){a.removeClass("button_checked"),a.attr("data-checked","false"),o.data.checked=!1},o.hover=function(){a.addClass("button_hovered")},o.unhover=function(){a.removeClass("button_hovered")},o.click=function(){a.addClass("button_clicked"),a.removeClass("button_clicked_out"),t("body").one("mouseup.button.private touchend.button.private",o.unclick)},o.unclick=function(){a.addClass("button_clicked_out"),a.removeClass("button_clicked")},o.set_width=function(t){a.css("width",t)},o.set_text=function(t){a.find(".button__text").text(t)},o.bind=function(){a.on("mouseover.button.private",o.hover),a.on("mouseout.button.private",o.unhover),a.on("mousedown.button.private touchstart.button.private",o.click),o.data.trigger&&a.on("click.button.trigger",function(t){t.preventDefault(),a.find("."+o.data.triggercontainer).trigger(o.data.trigger)})},o.bind_checkbox=function(){a.bindFirst("click.button.check",null,null,function(t){t.preventDefault(),o.data.checked?o.uncheck():o.check()})},o.bind_radio=function(){a.bindFirst("click.button.radio",null,null,function(t){t.preventDefault(),o.data.checked||o.check()})},o.init_components=function(){"popup"==o.data.toggle&&(o.data._el.popup=t(o.data.target),o.data._el.popup.popup({source:a,animation:o.data.popup_animation}))},o.init=function(){o.set_width(o.data.width),o.init_components(),o.bind(),a.hasClass("button_toggable_check")&&(o.data._widget.type="button.checkbox",o.init_check(),o.bind_checkbox()),a.hasClass("button_toggable_radio")&&(o.data._widget.type="button.radio",o.init_check(),o.bind_radio()),o.data.disabled?o.disable():o.enable(),o.data.hidden?o.hide():o.show(),o.set_width(o.data.width)},o.init_check=function(){o.data.checked?o.check():o.uncheck()},o.init()}return this})},destroy:function(){return this.each(function(){this.obj.destroy()})},disable:function(){return this.each(function(){this.obj.disable()})},enable:function(){return this.each(function(){this.obj.enable()})},unhover:function(){return this.each(function(){this.obj.unhover()})},hover:function(){return this.each(function(){this.obj.hover()})},hide:function(){return this.each(function(){this.obj.hide()})},show:function(){return this.each(function(){this.obj.show()})},set_width:function(t){return this.each(function(){this.obj.set_width(t)})},set_text:function(t){return this.each(function(){this.obj.set_text(t)})},check:function(){return this.each(function(){this.obj.check()})},uncheck:function(){return this.each(function(){this.obj.uncheck()})}};t.fn.button=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on $.button"):e.init.apply(this,arguments)}}(jQuery),$(function(){$('[data-fc="button"]').button()}),function(t){var e={init:function(e){return this.each(function(){var a=t(this);if(!a.data("_widget")){a.data("_widget",{type:"icon__menu",target:a});var o=this.obj={};o.defaults={clicked:!1},o.data=a.data(),o.options=t.extend(!0,{},o.defaults,o.data,e),a.data(o.options),o.data._el={ham:a,menu_top:a.find(".icon__menu-top"),menu_middle:a.find(".icon__menu-middle"),menu_bottom:a.find(".icon__menu-bottom")},o.toggle=function(){o.data._el.ham.toggleClass("icon__menu_click"),o.data._el.menu_top.toggleClass("icon__menu-top_click"),o.data._el.menu_middle.toggleClass("icon__menu-middle_click"),o.data._el.menu_bottom.toggleClass("icon__menu-bottom_click")},o.bind=function(){o.data._el.ham.on("toggle.icon__menu",function(t){o.toggle(t),t.preventDefault()})},o.init=function(){o.bind(),o.data.clicked&&o.toggle()},o.init()}return this})},toggle:function(){return this.each(function(){this.obj.toggle()})}};t.fn.icon__menu=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on $.icon__menu"):e.init.apply(this,arguments)}}(jQuery),$(function(){$('[data-fc="icon__menu"]').icon__menu()}),function(t){var e={init:function(e){return this.each(function(){var a=t(this);if(!a.data("_widget")){a.data("_widget",{type:"popup",target:a});var o=this.obj={};o.defaults={source:null,width:"full",height:"auto",position:"bottom left",animation:!0,visible:!1,offset:10,select:!1},o.data=a.data(),o.options=t.extend(!0,{},o.defaults,o.data,e),a.data(o.options),o.data._inFocus=!1,o.data._el={source:o.data.source,source_arrow:o.data.source.find(".icon_svg_down")},o.destroy=function(){a.removeData(),a.remove()},o.hide=function(){a.removeClass("popup_visible_bottom"),o.data.visible=!1,o.data._inFocus=!1,void 0!==o.data._el.source_arrow[0]&&o.data._el.source_arrow.removeClass("icon_rotate_180deg")},o.show=function(){o.data.animation&&a.addClass("popup_animation"),o.set_width(o.data.width),o.set_position(o.data.position),o.data.visible=!0,o.data._inFocus=!1,a.addClass("popup_visible_bottom"),void 0!==o.data._el.source_arrow[0]&&o.data._el.source_arrow.addClass("icon_rotate_180deg")},o.toggle=function(){o.data.visible?o.hide():o.show()},o.mouseup_self=function(t){t.originalEvent.inFocus=!0},o.mouseup_source=function(t){o.data._inFocus=!0},o.mouseup_body=function(t){o.data._inFocus||t.originalEvent.inFocus||o.hide()},o.set_width=function(t){"full"!=t&&"100%"!=t||(t=o.data._el.source.outerWidth()),a.css({width:t,"max-width":t})},o.set_height=function(t){a.css("max-height",t)},o.set_position=function(e,i){if(void 0===i&&(i=0),i<11){var n,d,l=o.get_dimentions(o.data._el.source),u=o.get_dimentions(a),s=e.split(" "),c=o.data.offset,p=s[0],_=s[1];switch(p){case"top":n=l.top-u.height-c;break;case"right":d=l.left+l.width+c;break;case"bottom":n=l.top+l.height+c;break;case"left":d=l.left-u.width-c}switch(_){case"top":n=l.top;break;case"right":d=l.left+l.width-u.width;break;case"bottom":n=l.top+l.height-u.height;break;case"left":d=l.left;break;case"center":/left|right/.test(p)?n=l.top+l.height/2-u.height/2:d=l.left+l.width/2-u.width/2}a.css({left:d,top:n});var r=o.get_offset(o.data._el.source);switch(e){case"bottom right":(r.top+r.height+c+u.height>t(window).height()||r.left+r.width-u.width<0)&&o.set_position("left top",++i);break;case"left top":(r.left-c-u.width<0||r.top+u.height>t(window).height())&&o.set_position("left center",++i);break;case"left center":(r.left-c-u.width<0||r.top+r.height/2+u.height/2>t(window).height()||r.top+r.height/2-u.height/2<0)&&o.set_position("left bottom",++i);break;case"left bottom":(r.left-c-u.width<0||r.top+r.height-u.height<0)&&o.set_position("top right",++i);break;case"top right":(r.top-c-u.height<0||r.left+r.width-u.width<0)&&o.set_position("top left",++i);break;case"top left":(r.top-c-u.height<0||r.left+u.width>t(window).width())&&o.set_position("right bottom",++i);break;case"right bottom":(r.left+r.width+c+u.width>t(window).width()||r.top+r.height-u.height<0)&&o.set_position("right center",++i);break;case"right center":(r.left+r.width+c+u.width>t(window).width()||r.top+r.height/2+u.height/2>t(window).height()||r.top+r.height/2-u.height/2<0)&&o.set_position("right top",++i);break;case"right top":(r.left+r.width+c+u.width>t(window).width()||r.top+u.height>t(window).height())&&o.set_position("bottom left",++i);break;case"bottom left":(r.top+r.height+c+u.height>t(window).height()||r.left+u.width>t(window).width())&&o.set_position("bottom right",++i)}}},o.get_dimentions=function(t){var e=t.position();return{width:t.outerWidth(),height:t.outerHeight(),left:e.left,top:e.top}},o.get_offset=function(t){var e=t.offset();return{width:t.outerWidth(),height:t.outerHeight(),left:e.left,top:e.top}},o.bind=function(){o.data._el.source.on("click.popup.toggle",function(t){t.preventDefault(),o.toggle()}),o.data._el.source.on("mouseup.popup.source touchend.popup.source",o.mouseup_source),a.on("mouseup.popup.self touchend.popup.self",o.mouseup_self),t("body").on("mouseup.popup.body touchend.popup.body",o.mouseup_body)},o.init_components=function(){void 0!==o.data._el.source_arrow[0]&&o.data._el.source_arrow.addClass("icon_animate")},o.init=function(){o.init_components(),o.bind(),o.data.select&&a.addClass("popup_select "),o.data.visible?o.show():o.hide(),o.set_width(o.data.width),o.set_height(o.data.height)},o.init()}return this})},destroy:function(){return this.each(function(){this.obj.destroy()})},hide:function(){return this.each(function(){this.obj.hide()})},show:function(){return this.each(function(){this.obj.show()})},set_width:function(t){return this.each(function(){this.obj.set_width(t)})},set_height:function(t){return this.each(function(){this.obj.set_height(t)})}};t.fn.popup=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on $.popup"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(e){return this.each(function(){var a=t(this);if(!a.data("_widget")){a.data("_widget",{type:"input",target:a});var o=this.obj={};o.const={REQUIRED:"Необходимо заполнить"},o.defaults={disabled:!1,hidden:!1,width:"100%",autoclose:!0,popup_animation:!0},o.data=a.data(),o.options=t.extend(!0,{},o.defaults,o.data,e),a.data(o.options),o.data._handlers=null,o.data._handlers_input=null,o.data._datepicker=null,o.data._el={button:a.find("button"),input:a.find(".input__control"),popup:t('<div class="popup"></div>')},o.destroy=function(){void 0!==o.data._el.button[0]&&o.data._el.button.button("destroy"),o.data._el.popup.data("_widget")&&o.data._el.popup.popup("destroy"),a.removeData(),a.remove()},o.disable=function(){if(a.addClass("input_disabled"),a.attr("data-disabled","true"),o.data._el.input.attr("disabled","disabled"),o.data._el.input.prop("disabled",!0),o.data.disabled=!0,t._data(a[0],"events")){o.data._handlers={};for(var e in t._data(a[0],"events"))o.data._handlers[e]=t._data(a[0],"events")[e].slice(0);a.off()}void 0!==o.data._el.button[0]&&o.data._el.button.button("disable"),o.disable_input()},o.enable=function(){if(a.removeClass("input_disabled"),a.removeAttr("data-disabled"),o.data._el.input.removeAttr("disabled"),o.data._el.input.prop("disabled",!1),o.data._handlers)for(var t in o.data._handlers)o.data._handlers[t].forEach(function(t){a.on(t.type+"."+t.namespace,t.handler)});void 0!==o.data._el.button[0]&&o.data._el.button.button("enable"),o.data._handlers=null,o.data.disabled=!1,o.enable_input()},o.hide=function(){a.addClass("input_hidden"),o.data.hidden=!0},o.show=function(){a.removeClass("input_hidden"),o.data.hidden=!1},o.focus=function(){o.data._el.input.trigger("focus"),o.data._el.input.trigger("mousedown")},o.clear=function(){o.data._el.input.val(""),o.data._el.input.trigger("keyup"),o.focus()},o.disable_input=function(){if(t._data(o.data._el.input[0],"events")){o.data._handlers_input={};for(var e in t._data(o.data._el.input[0],"events"))o.data._handlers_input[e]=t._data(o.data._el.input[0],"events")[e].slice(0);o.data._el.input.off()}},o.enable_input=function(){if(o.data._handlers_input)for(var t in o.data._handlers_input)o.data._handlers_input[t].forEach(function(t){o.data._el.input.on(t.type+"."+t.namespace,t.handler)})},o.focusin=function(){a.addClass("input_focused"),o.data.focused=!0},o.focusout=function(){a.removeClass("input_focused"),o.data.focused=!1},o.set_width=function(t){a.css("width",t)},o.validate=function(){return o.data.validate=!0,o.data.required&&(""==o.data._el.input.val()?(o.data.validate=!1,a.addClass("input__has-error"),0==a.parent().find(".control__error").length&&a.after(t('<div class="control__error">'+o.const.REQUIRED+"</div>"))):(o.data.validate=!0,a.removeClass("input__has-error"),0!=a.parent().find(".control__error").length&&a.parent().find(".control__error").remove())),o.data.validate},o.bind=function(){o.data._el.input.bindFirst("focusin.input__control mousedown.input__control touchstart.input__control",null,null,o.focusin),o.data._el.input.bindFirst("focusout.input__control",null,null,o.focusout),o.data._el.button.on("click.input__clear",null,null,function(t){t.preventDefault(),o.clear()}),o.data._el.input.bindFirst("mousedown.input__control",null,null,o.show_datepicker),t("body").on("mouseup.input__control touchend.input__control",o.hide_datepicker)},o.init_components=function(){void 0!==o.data._el.button[0]&&o.data._el.button.button(),"datepicker"==o.data.toggle&&o.init_datepicker()},o.init_datepicker=function(){a.after(o.data._el.popup),o.data._el.popup.popup({source:a,animation:o.data.popup_animation,width:"auto"}),o.data._el.input.datepicker({inline:!0,autoClose:o.data.autoclose,onSelect:function(t,e,a){o.data.date=e,o.data.formattedDate=t,o.data.autoclose&&o.data._el.popup.popup("hide")}}),o.data._datepicker=o.data._el.input.data().datepicker,o.data._datepicker.$datepicker.parent().appendTo(o.data._el.popup)},o.init=function(){o.init_components(),o.bind(),o.data.disabled?o.disable():o.enable(),o.data.hidden?o.hide():o.show(),o.set_width(o.data.width)},o.init()}return this})},destroy:function(){return this.each(function(){this.obj.destroy()})},disable:function(){return this.each(function(){this.obj.disable()})},enable:function(){return this.each(function(){this.obj.enable()})},hide:function(){return this.each(function(){this.obj.hide()})},show:function(){return this.each(function(){this.obj.show()})},focus:function(){return this.each(function(){this.obj.focus()})},clear:function(){return this.each(function(){this.obj.clear()})},set_width:function(t){return this.each(function(){this.obj.set_width(t)})},validate:function(){if(1==this.length){var t=!0;return this.each(function(){t=this.obj.validate()}),t}var e=[];return this.each(function(){e.push(this.obj.validate())}),e},value:function(){if(1==this.length){var t=!1;return this.each(function(){t=this.obj.data._el.input.val()}),t}var e=[];return this.each(function(){e.push(this.obj.data._el.input.val())}),e}};t.fn.input=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on $.input"):e.init.apply(this,arguments)}}(jQuery),$(function(){$('[data-fc="input"]').input()}),function(t){var e={init:function(e){return this.each(function(){var a=t(this);if(!a.data("_tooltip")){var o=this.tooltip={};o.defaults={follow:!0,tooltip:a.attr("data-tooltip")},o.data=a.data(),o.options=t.extend(o.defaults,o.data,e),a.data(o.options),o.data._tooltip={tooltip:t('<div class="tooltip"></div>'),tooltip__text:t('<div class="tooltip__text"></div>'),tooltip__arrow:t('<div class="tooltip__arrow"></div>')},o.destroy=function(){o.data._tooltip.tooltip.remove(),o.data._tooltip.tooltip.css({width:"auto"})},o.hide=function(){o.destroy(),a.off("mousemove.tooltip")},o.show=function(t){o.render(),o.data.follow?(o.follow(t),a.on("mousemove.tooltip",o.follow)):o.put(t)},o.put=function(e){o.data._tooltip.tooltip.addClass("tooltip_visible"),o.data._tooltip.tooltip__arrow.removeClass("tooltip__arrow_bottom"),o.data._tooltip.tooltip__arrow.addClass("tooltip__arrow_top");var i=Math.ceil(o.data._tooltip.tooltip.width()),n=Math.ceil(o.data._tooltip.tooltip.outerHeight()),d=a.offset().left+a[0].getBoundingClientRect().width/2,l=a.offset().top,u=d-i/2,s=l-n-10;u-10<0?(u=10)+i+10>t(window).width()&&(i=t(window).width()-20):u+i+10>t(window).width()&&(u=t(window).width()-10-i)-10<0&&(i=t(window).width()-20),s<0&&(s=l+a[0].getBoundingClientRect().height+10,o.data._tooltip.tooltip__arrow.removeClass("tooltip__arrow_top"),o.data._tooltip.tooltip__arrow.addClass("tooltip__arrow_bottom"));var c=d-u-5;c<10&&(c=10),c>i-20&&(c=i-20),o.data._tooltip.tooltip.css({top:s,left:u}),o.data._tooltip.tooltip__arrow.css({left:c})},o.follow=function(e){o.data._tooltip.tooltip.addClass("tooltip_visible"),o.data._tooltip.tooltip__arrow.removeClass("tooltip__arrow_bottom"),o.data._tooltip.tooltip__arrow.addClass("tooltip__arrow_top");var a=Math.ceil(o.data._tooltip.tooltip.width()),i=Math.ceil(o.data._tooltip.tooltip.outerHeight()),n=t(window).scrollTop(),d=t(window).scrollLeft(),l=document.all?e.clientX+d:e.pageX,u=document.all?e.clientY+n:e.pageY,s=l-a/2,c=u-i-25;s-10<0?(s=10)+a+10>t(window).width()&&(a=t(window).width()-20):s+a+10>t(window).width()&&(s=t(window).width()-10-a)-10<0&&(a=t(window).width()-20),c<0&&(c=u+25,o.data._tooltip.tooltip__arrow.removeClass("tooltip__arrow_top"),o.data._tooltip.tooltip__arrow.addClass("tooltip__arrow_bottom"));var p=l-s-5;p<10&&(p=10),p>a-20&&(p=a-20),o.data._tooltip.tooltip.css({top:c,left:s}),o.data._tooltip.tooltip__arrow.css({left:p})},o.render=function(){t("body").append(o.data._tooltip.tooltip.append(o.data._tooltip.tooltip__text.html(o.data.tooltip),o.data._tooltip.tooltip__arrow))},o.update=function(t){o.data.tooltip=t},o.bind=function(){a.on("mouseover.tooltip",o.show),a.on("mouseout.tooltip",o.hide)},o.init=function(){o.bind()},o.init()}return this})},hide:function(t){return this.each(function(){this.tooltip.hide(t)})},show:function(t){return this.each(function(){this.tooltip.show(t)})},update:function(t){return this.each(function(){this.tooltip.update(t)})},clear:function(e){return this.each(function(){t(".tooltip").remove()})}};t.fn.tooltip=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on $.tooltip"):e.init.apply(this,arguments)}}(jQuery),$(function(){$("body").on("mouseover","[data-tooltip]",function(t){$(t.currentTarget).tooltip(),$(t.currentTarget).trigger("mouseover.tooltip")})});